(()=>{const i=Array.from(document.querySelectorAll("[data-reveal]"));if(!i.length||!("IntersectionObserver"in window)){i.forEach(s=>s.classList.add("is-visible"));return}const n=new IntersectionObserver(s=>{s.forEach(o=>{if(o.isIntersecting){const e=o.target;e.classList.add("is-visible"),(e.getAttribute("data-reveal")||"").includes("stagger")&&requestAnimationFrame(()=>e.classList.add("is-visible")),n.unobserve(e)}})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.16});i.forEach(s=>{s.style.opacity??=0,n.observe(s)})})();(()=>{const i=Array.from(document.querySelectorAll("[data-carousel]"));if(!i.length)return;const n=(e,r)=>document.querySelector(`[data-carousel-${e}="${r}"]`),s=(e,r,t)=>{if(!e)return;const a=e.scrollWidth-e.clientWidth;if(a<=0){r&&(r.disabled=!0),t&&(t.disabled=!0);return}const c=e.scrollLeft;r&&(r.disabled=c<=2),t&&(t.disabled=c>=a-2)},o=(e,r)=>{if(!e)return;const t=Math.max(e.clientWidth*.8,220);e.scrollBy({left:r==="next"?t:-t,behavior:"smooth"})};i.forEach(e=>{const r=e.getAttribute("data-carousel");if(!r)return;const t=e.querySelector("[data-carousel-viewport]");if(!t)return;const a=n("prev",r),c=n("next",r);a?.addEventListener("click",d=>{d.preventDefault(),o(t,"prev")}),c?.addEventListener("click",d=>{d.preventDefault(),o(t,"next")});const l=()=>s(t,a,c);t.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",l),l()})})();
